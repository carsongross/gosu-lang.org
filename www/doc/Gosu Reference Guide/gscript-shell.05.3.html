<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>The Structure of a Gosu Program</title>
    <link rel="StyleSheet" href="css/gscript-shell.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body style="" onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>Gosu Reference Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="gscript-shell.05.1.html#2182766">Gosu Programs and Command Line Tools</a> : The Structure of a Gosu Program</span></div>
    <hr align="left" />
    <div>
      <div class="H1_-_Heading_1"><a name="2182766">The Structure of a Gosu Program</a></div>
      <div class="B_-_Body"><a name="2182767">A simple Gosu program is one or more lines that contain Gosu statements. There are several important other </a>elements of a Gosu program:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('gosu', 'gscript-shell.05.3.html#2182879', '');" title="The Structure of a Gosu Program" name="2191558">"Metaline as First Line"</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('gosu', 'gscript-shell.05.3.html#2182773', '');" title="The Structure of a Gosu Program" name="2191573">"Functions in a Gosu Program"</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('gosu', 'gscript-shell.05.3.html#2183011', '');" title="The Structure of a Gosu Program" name="2191588">"Setting the Class Path to Call Other Gosu or Java Classes"</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H2_-_Heading_2"><a name="2182879">Metaline as First Line</a></div>
      <div class="B_-_Body"><a name="2182880">Gosu programs support a single line at the beginning of the program for specifying the executable with which to </a>run a file. This is for compliance with the UNIX standard for shell script files. The metaline is optional. If present must the first line of the program. The meta line looks like the following.</div>
      <div class="CS_-_Code_Single_Line"><a name="2182881"> #!/usr/bin/env gosu</a></div>
      <div class="B_-_Body"><a name="2182933">Note that the # in the meta line does not mean that the </a><span class="cv_-_computer_voice">#</span> symbol can start a line comments later on in Gosu programs. The # character is not a valid line comment start symbol.</div>
      <div class="H2_-_Heading_2"><a name="2182773">Functions in a Gosu Program</a></div>
      <div class="B_-_Body"><a name="2182857">Your Gosu program can also define functions in the same file and call them.</a></div>
      <div class="B_-_Body"><a name="2182816">For example, the following program creates a simple function and calls it twice:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2182796">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2182797">print (sum(10,4,7));</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2182798">print (sum(222,4,3));</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2182799">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2182800">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2182801">function sum (a: int, b: int, c: int) : int {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2182802">  return a + b + c;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2182803"> }</a></PRE>
      <div class="B_-_Body"><a name="2182785">When run, this program outputs:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2182834">21</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2182835">229</a></PRE>
      <div class="H2_-_Heading_2"><a name="2183011">Setting the Class Path to Call Other Gosu or Java Classes</a></div>
      <div class="B_-_Body"><a name="2183021">You can call out to any Java or Gosu class as needed. However, you cannot define Gosu classes directly inside </a>your Gosu program file. </div>
      <div class="B_-_Body"><a name="2183224">To tell Gosu where to load additional classes, do either of the following:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2191440">Use the </a><span class="cv_-_computer_voice">classpath</span> argument on the command line tool. See <a href="javascript:WWHClickedPopup('gosu', 'gscript-shell.05.4.html#2180195', '');" title="Command Line Arguments">"Command Line Arguments"</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2191456">Add a </a><span class="cv_-_computer_voice">classpath</span> statement to the top of your Gosu program.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2183148">The </a><span class="cv_-_computer_voice">classpath</span> statement in a Gosu program improves upon the Java approach, which is to invoke a full and long <span class="cv_-_computer_voice">classpath</span> argument option when running the main class. </div>
      <div class="B_-_Body"><a name="2183149">To add to the class path for a program from within the program, simply add </a><span class="cv_-_computer_voice">classpath</span> statements before all other statements in the program. If you use a metaline (see <a href="javascript:WWHClickedPopup('gosu', 'gscript-shell.05.3.html#2182879', '');" title="The Structure of a Gosu Program">"Metaline as First Line"</a>), <span class="cv_-_computer_voice">classpath</span> statements appear after the metaline.</div>
      <div class="B_-_Body"><a name="2183067">A simple version of the classpath statement is simply a relative path in quote signs:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2183069">classpath "src"</a></div>
      <div class="B_-_Body"><a name="2183186">If it does not start with a </a><span class="cv_-_computer_voice">"/"</span> character, Gosu treats it <span class="s_-_strong">as a relative path</span>. The path is relative to the folder in which the current program resides. This is the most common use. Use this feature to neatly encapsulate your program and its supporting classes together in one location.</div>
      <div class="B_-_Body"><a name="2183073">If the path starts with a </a><span class="cv_-_computer_voice">"/"</span> character, Gosu treats it <span class="s_-_strong">as an absolute path</span>.</div>
      <div class="B_-_Body"><a name="2183077">You can include multiple paths in the same string literal using a comma character as a separator.</a></div>
      <div class="B_-_Body"><a name="2191507">Typically you would place Java classes, Gosu classes, or libraries in subdirectories of your main Gosu program. </a></div>
      <div class="B_-_Body"><a name="2191508">For example, suppose you have a Gosu program at this location:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2191509">C:\gosu\myprograms\test1\test.gsp</a></div>
      <div class="B_-_Body"><a name="2191510">Copy your class file for the class </a><span class="cv_-_computer_voice">mypackage.MyClass</span> to the location:</div>
      <div class="CS_-_Code_Single_Line"><a name="2191511">C:\gosu\myprograms\test1\src\mypackage\MyClass.class</a></div>
      <div class="B_-_Body"><a name="2191512">Copy your library files to locations such as:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2191513">C:\gosu\myprograms\test1\lib\mylibrary.jar</a></div>
      <div class="B_-_Body"><a name="2191514">For this example, you would add classpath values with the following statement:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2191515">classpath "src,lib"</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </div>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>